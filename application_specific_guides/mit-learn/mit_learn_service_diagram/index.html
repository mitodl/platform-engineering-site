
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../jupyterhub/jupyterhub_admin_guide/">
      
      
        <link rel="next" href="../../../monitoring_observability/overview/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>MIT Learn Service Diagram - Platform Engineering Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mit-learn-service-architecture-diagram" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Platform Engineering Documentation" class="md-header__button md-logo" aria-label="Platform Engineering Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Platform Engineering Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MIT Learn Service Diagram
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Platform Engineering Documentation" class="md-nav__button md-logo" aria-label="Platform Engineering Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Platform Engineering Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/emergency-break-glass/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Emergency Oncall Break Glass Procedure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/developer_eks_access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer EKS Access
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/vault_access_for_developers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vault Access for Developers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/update_this_site/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating This Site
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/pe-product-infra-map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Applications & Services
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Platform Services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Platform Services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Secrets Management (Vault)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Secrets Management (Vault)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/secrets_management/restore_vault_backups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Restoring Vault Backups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/secrets_management/faking_it_with_consul_and_vault/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Faking It with Consul and Vault
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Service Discovery (Consul)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Service Discovery (Consul)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/service_discovery/consul_incantations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Consul Incantations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/service_discovery/fargate_service_discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fargate Service Discovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Container Orchestration (Kubernetes)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Container Orchestration (Kubernetes)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/container_orchestration/deploying_apps_with_kubernetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deploying Apps with Kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/container_orchestration/kubernetes_cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kubernetes Cookbook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    CI/CD (Concourse)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    CI/CD (Concourse)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/ci_cd/getting_started_with_concourse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started with Concourse
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/ci_cd/deploying_concourse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deploying Concourse
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/ci_cd/concourse_github_issues_user_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Concourse GitHub Issues User Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cloud Infrastructure (AWS & Pulumi)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cloud Infrastructure (AWS & Pulumi)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/cloud_infrastructure/pulumi_aws_classic_5_to_6_upgrade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pulumi AWS Classic 5 to 6 Upgrade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/cloud_infrastructure/import_existing_resources_with_pulumi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Importing Existing Resources with Pulumi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/cloud_infrastructure/test_and_deploy_pulumi_packer_projects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing and Deploying Pulumi Packer Projects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/cloud_infrastructure/tagging_amis_with_installed_software_metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tagging AMIs with Software Metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/cloud_infrastructure/moira_certificates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Moira Certificates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/cloud_infrastructure/recaptcha/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recaptcha
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../platform_services/cloud_infrastructure/publishing_to_npm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Publishing to NPM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Application Specific Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Application Specific Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Open edX
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Open edX
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/mitxonline_bulk_rescore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MITx Online Bulk Rescore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/prove_build_was_deployed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proving Build Was Deployed
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/access_django_manage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accessing Django Manage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/enable_rapid_response_edxapp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Enabling Rapid Response edXApp
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/mysql_access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL Access
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/retirement_pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retirement Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/release_upgrades/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Upgrades
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/retire_an_openedx_user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Retiring a User
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_9" >
        
          
          <label class="md-nav__link" for="__nav_4_1_9" id="__nav_4_1_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ProctorTrack
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    ProctorTrack
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/proctoring/proctortrack_integration_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integration Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/proctoring/proctoring_js_architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JS Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/proctoring/earthfile_fix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Build Fix
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openedx/proctoring/workers_json_requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workers JSON Build Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Heroku (Legacy)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Heroku (Legacy)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../heroku_legacy/config_vars/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Config Vars
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../heroku_legacy/dynosaur_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynosaur Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../heroku_legacy/log_drains/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Log Drains
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../heroku_legacy/transition_postgres_db_to_rds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transitioning Postgres DB to RDS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    OCW Studio
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    OCW Studio
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ocw-studio/Update_OCW_Studio_Pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating The OCW Studio Pipeline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Doof (Odlbot)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Doof (Odlbot)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../odlbot/Resetting_Doof_Github_Token/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resetting Doof Github Token
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Renovate
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Renovate
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../renovate/updating_renovate_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating Renovate Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    JupyterHub
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    JupyterHub
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../jupyterhub/jupyterhub_admin_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JupyterHub Admin Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" checked>
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    MIT Learn
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    MIT Learn
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    MIT Learn Service Diagram
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    MIT Learn Service Diagram
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-high-level-architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. High-Level Architecture Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-cdn-dns-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. CDN &amp; DNS Layer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-api-gateway-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. API Gateway &amp; Authentication
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-frontend-layer-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Frontend Layer (Kubernetes)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-application-layer-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Application Layer (Kubernetes)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-data-storage-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Data Storage Layer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-external-integrations-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. External Integrations &amp; Services
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. External Integrations &amp; Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7a-external-content-sources-etl" class="md-nav__link">
    <span class="md-ellipsis">
      
        7a. External Content Sources (ETL)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7b-supporting-external-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        7b. Supporting External Services
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-cicd-pipeline-concourse" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. CI/CD Pipeline (Concourse)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. CI/CD Pipeline (Concourse)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8a-backend-pipeline-mit-learn" class="md-nav__link">
    <span class="md-ellipsis">
      
        8a. Backend Pipeline: mit-learn
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8b-frontend-pipeline-mit-learn-nextjs" class="md-nav__link">
    <span class="md-ellipsis">
      
        8b. Frontend Pipeline: mit-learn-nextjs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-infrastructure-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Infrastructure Management
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-specific-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environment-Specific Deployments
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-infrastructure-links" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Infrastructure Links
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Infrastructure Links">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#primary-infrastructure-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Primary Infrastructure Definitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-development" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local Development
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traffic-flow-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Traffic Flow Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-observability" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring &amp; Observability
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security &amp; Secrets
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Monitoring And Observability
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Monitoring And Observability
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring_observability/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring_observability/inventory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inventory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring_observability/key_labels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Key Labels
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../monitoring_observability/bump_sentry_credit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bumping Sentry Credit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Runbooks & Post-Mortems
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Runbooks & Post-Mortems
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runbooks_post_mortems/oncall_runbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    On-Call Runbook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runbooks_post_mortems/20231030_xpro_outage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    20231030 xPro Outage Post-Mortem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runbooks_post_mortems/openedx_clear_user_grades/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Clear User Grades In Open edX
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cookbooks & Patterns
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cookbooks & Patterns
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cookbooks_patterns/devops_patterns_cookbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DevOps Patterns Cookbook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Partner Documentation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Partner Documentation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sso_onboarding/sso_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integrating With MIT Learn SSO
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-high-level-architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. High-Level Architecture Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-cdn-dns-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. CDN &amp; DNS Layer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-api-gateway-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. API Gateway &amp; Authentication
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-frontend-layer-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Frontend Layer (Kubernetes)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-application-layer-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Application Layer (Kubernetes)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-data-storage-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Data Storage Layer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-external-integrations-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. External Integrations &amp; Services
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. External Integrations &amp; Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#7a-external-content-sources-etl" class="md-nav__link">
    <span class="md-ellipsis">
      
        7a. External Content Sources (ETL)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7b-supporting-external-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        7b. Supporting External Services
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-cicd-pipeline-concourse" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. CI/CD Pipeline (Concourse)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. CI/CD Pipeline (Concourse)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#8a-backend-pipeline-mit-learn" class="md-nav__link">
    <span class="md-ellipsis">
      
        8a. Backend Pipeline: mit-learn
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8b-frontend-pipeline-mit-learn-nextjs" class="md-nav__link">
    <span class="md-ellipsis">
      
        8b. Frontend Pipeline: mit-learn-nextjs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-infrastructure-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Infrastructure Management
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-specific-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environment-Specific Deployments
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-infrastructure-links" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Infrastructure Links
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Infrastructure Links">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#primary-infrastructure-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Primary Infrastructure Definitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-development" class="md-nav__link">
    <span class="md-ellipsis">
      
        Local Development
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traffic-flow-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Traffic Flow Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-observability" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring &amp; Observability
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security &amp; Secrets
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="mit-learn-service-architecture-diagram">MIT Learn Service Architecture Diagram</h1>
<p>This document shows all services, components, and infrastructure for the MIT Learn project through a series of focused diagrams.</p>
<h2 id="1-high-level-architecture-overview">1. High-Level Architecture Overview</h2>
<pre class="mermaid"><code>graph TB
    Users[Web Users]
    CDN[CDN &amp; DNS Layer&lt;br/&gt;See Diagram 2]
    Gateway[API Gateway &amp; Auth&lt;br/&gt;See Diagram 3]
    Frontend[Frontend Layer&lt;br/&gt;See Diagram 4]
    Application[Application Layer&lt;br/&gt;See Diagram 5]
    Data[Data Storage&lt;br/&gt;See Diagram 6]
    External[External Sources&lt;br/&gt;See Diagram 7]
    CICD[CI/CD Pipeline&lt;br/&gt;See Diagram 8]
    Infrastructure[Infrastructure Mgmt&lt;br/&gt;See Diagram 9]

    Users --&gt;|HTTPS| CDN
    CDN --&gt;|Route| Frontend
    CDN --&gt;|Route| Gateway
    Gateway --&gt;|Auth| Application
    Frontend --&gt;|API Calls| Gateway
    Application --&gt;|Store/Query| Data
    Application --&gt;|Fetch Content| External
    CICD --&gt;|Deploy| Frontend
    CICD --&gt;|Deploy| Application
    Infrastructure --&gt;|Manage| Application
    Infrastructure --&gt;|Manage| Data

    style CDN fill:#f9f,stroke:#333,stroke-width:2px
    style Gateway fill:#9cf,stroke:#333,stroke-width:2px
    style Frontend fill:#9f9,stroke:#333,stroke-width:2px
    style Application fill:#9f9,stroke:#333,stroke-width:2px
    style Data fill:#ff9,stroke:#333,stroke-width:2px
    style External fill:#fcf,stroke:#333,stroke-width:2px
    style CICD fill:#fcc,stroke:#333,stroke-width:2px
    style Infrastructure fill:#cff,stroke:#333,stroke-width:2px</code></pre>
<hr />
<h2 id="2-cdn-dns-layer">2. CDN &amp; DNS Layer</h2>
<pre class="mermaid"><code>graph TB
    Users[Web Users]

    subgraph CDN["CDN &amp; DNS"]
        Route53[AWS Route53&lt;br/&gt;DNS Management]
        Fastly[Fastly CDN&lt;br/&gt;TLS 1.3 Termination&lt;br/&gt;Gzip/Brotli Compression]
    end

    NextJS[Next.js Frontend&lt;br/&gt;Port 8062]
    APISIX[APISIX Gateway&lt;br/&gt;Port 8065]

    Users --&gt;|DNS Lookup| Route53
    Users --&gt;|HTTPS| Fastly
    Fastly --&gt;|Frontend Traffic| NextJS
    Fastly --&gt;|API Traffic| APISIX

    Route53 -.-&gt;|learn.mit.edu&lt;br/&gt;open.odl.local| Fastly

    style Fastly fill:#f9f,stroke:#333,stroke-width:2px
    style Route53 fill:#f9f,stroke:#333,stroke-width:2px</code></pre>
<p><strong>Infrastructure Links:</strong>
- Route53: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L949">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:949</a>
- Fastly CDN: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L802">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:802</a></p>
<hr />
<h2 id="3-api-gateway-authentication">3. API Gateway &amp; Authentication</h2>
<pre class="mermaid"><code>graph TB
    Fastly[From Fastly CDN]

    subgraph Gateway["API Gateway &amp; Auth Layer"]
        APISIX[Apache APISIX&lt;br/&gt;API Gateway&lt;br/&gt;Port 8065]
        Keycloak[Keycloak&lt;br/&gt;SSO Provider&lt;br/&gt;OAuth2/OIDC&lt;br/&gt;Realm: olapps]
    end

    Nginx[To Nginx/Django]

    Fastly --&gt;|API Requests| APISIX
    APISIX --&gt;|Authenticate| Keycloak
    APISIX --&gt;|Proxy| Nginx
    Keycloak -.-&gt;|JWT Tokens| APISIX

    style APISIX fill:#9cf,stroke:#333,stroke-width:2px
    style Keycloak fill:#9cf,stroke:#333,stroke-width:2px</code></pre>
<p><strong>Infrastructure Links:</strong>
- APISIX: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L1200">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:1200</a>
- Keycloak: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L1224">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:1224</a>
- Local: <a href="https://github.com/mitodl/mit-learn/blob/main/docker-compose.services.yml#L96">docker-compose.services.yml:96</a></p>
<hr />
<h2 id="4-frontend-layer-kubernetes">4. Frontend Layer (Kubernetes)</h2>
<pre class="mermaid"><code>graph TB
    Fastly[From Fastly CDN]
    Gateway[From APISIX]

    subgraph Frontend["Frontend - Blue/Green Deployment"]
        Service[Kubernetes Service&lt;br/&gt;mit-learn-nextjs]
        Blue[Next.js Blue&lt;br/&gt;Deployment]
        Green[Next.js Green&lt;br/&gt;Deployment]
        BuildJob[Build Job&lt;br/&gt;yarn build]
        EFS[AWS EFS&lt;br/&gt;Build Cache]
        ConfigMap[ConfigMap&lt;br/&gt;Deployment State]
    end

    Fastly --&gt;|Frontend Requests| Service
    Service --&gt;|Active| Blue
    Service --&gt;|Inactive| Green
    BuildJob --&gt;|Build Assets| EFS
    Blue --&gt;|Read Cache| EFS
    Green --&gt;|Read Cache| EFS
    ConfigMap -.-&gt;|Tracks Active| Service
    Blue --&gt;|API Calls| Gateway
    Green --&gt;|API Calls| Gateway

    style Service fill:#9f9,stroke:#333,stroke-width:2px
    style Blue fill:#9f9,stroke:#333,stroke-width:2px
    style Green fill:#9f9,stroke:#333,stroke-width:2px
    style BuildJob fill:#9f9,stroke:#333,stroke-width:2px
    style EFS fill:#fc9,stroke:#333,stroke-width:2px</code></pre>
<p><strong>Details:</strong>
- <strong>Node Version:</strong> 22.21
- <strong>Blue/Green Toggle:</strong> Auto-toggle enabled by default
- <strong>Build Process:</strong> K8s Job runs <code>yarn build</code>, stores to EFS
- <strong>Service Routing:</strong> Points to active deployment (blue or green)</p>
<p><strong>Infrastructure Links:</strong>
- Next.js App: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn_nextjs/__main__.py">ol-infrastructure/.../mit_learn_nextjs/<strong>main</strong>.py</a>
- Build Job: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn_nextjs/__main__.py#L192">ol-infrastructure/.../mit_learn_nextjs/<strong>main</strong>.py:192</a>
- EFS Storage: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn_nextjs/__main__.py#L166">ol-infrastructure/.../mit_learn_nextjs/<strong>main</strong>.py:166</a>
- Local: <a href="https://github.com/mitodl/mit-learn/blob/main/docker-compose.apps.yml#L30">docker-compose.apps.yml:30</a></p>
<hr />
<h2 id="5-application-layer-kubernetes">5. Application Layer (Kubernetes)</h2>
<pre class="mermaid"><code>graph TB
    APISIX[From APISIX Gateway]

    subgraph Application["Django Application Layer"]
        Nginx[Nginx&lt;br/&gt;Reverse Proxy]
        Web[Django Web&lt;br/&gt;uWSGI/Granian&lt;br/&gt;HPA: 2-10 replicas]

        subgraph Celery["Celery Workers"]
            Beat[Celery Beat&lt;br/&gt;RedBeat Scheduler]
            Default[Default Queue&lt;br/&gt;Max 20 replicas]
            EDX[EDX Content Queue&lt;br/&gt;ETL Tasks]
            Embeddings[Embeddings Queue&lt;br/&gt;Max 30 replicas]
        end
    end

    Redis[To Redis]
    Postgres[To PostgreSQL]
    External[To External Sources]
    AI[To AI Services]

    APISIX --&gt;|HTTP| Nginx
    Nginx --&gt;|WSGI| Web
    Web --&gt;|Cache/Queue| Redis
    Web --&gt;|Store Data| Postgres

    Beat --&gt;|Schedule Tasks| Redis
    Default --&gt;|Process Tasks| Redis
    EDX --&gt;|Process Tasks| Redis
    Embeddings --&gt;|Process Tasks| Redis

    Default --&gt;|Update Data| Postgres
    EDX --&gt;|Fetch Content| External
    EDX --&gt;|Update Data| Postgres
    Embeddings --&gt;|Generate Vectors| AI
    Embeddings --&gt;|Store Vectors| Postgres

    style Nginx fill:#9f9,stroke:#333,stroke-width:2px
    style Web fill:#9f9,stroke:#333,stroke-width:2px
    style Beat fill:#9f9,stroke:#333,stroke-width:2px
    style Default fill:#9f9,stroke:#333,stroke-width:2px
    style EDX fill:#9f9,stroke:#333,stroke-width:2px
    style Embeddings fill:#9f9,stroke:#333,stroke-width:2px</code></pre>
<p><strong>Details:</strong>
- <strong>Python Version:</strong> 3.12
- <strong>Web Server:</strong> uWSGI or Granian (configurable)
- <strong>Autoscaling:</strong> CPU (60%) and Memory (80%) based
- <strong>Celery Queues:</strong>
  - <strong>default:</strong> General background tasks
  - <strong>edx_content:</strong> ETL from external course providers
  - <strong>embeddings:</strong> AI vector generation (120min schedule)</p>
<p><strong>Infrastructure Links:</strong>
- Django App: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L1417">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:1417</a>
- Celery Workers: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L1443">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:1443</a>
- Local: <a href="https://github.com/mitodl/mit-learn/blob/main/docker-compose.apps.yml#L5">docker-compose.apps.yml:5</a></p>
<hr />
<h2 id="6-data-storage-layer">6. Data Storage Layer</h2>
<pre class="mermaid"><code>graph TB
    Web[From Django Web]
    Celery[From Celery Workers]

    subgraph Storage["Data Storage Services"]
        RDS[(PostgreSQL 15&lt;br/&gt;Database: mitopen&lt;br/&gt;MD5 Password Encryption)]
        Redis[(ElastiCache Valkey 7.2&lt;br/&gt;3 Replicas&lt;br/&gt;Encrypted)]
        OpenSearch[(OpenSearch 3.1.0&lt;br/&gt;Full-Text Search)]
        Qdrant[(Qdrant&lt;br/&gt;Vector Database&lt;br/&gt;Collection: mitlearn-env)]
        S3Legacy[S3 Legacy Bucket&lt;br/&gt;ol-mitopen-app-storage]
        S3New[S3 New Bucket&lt;br/&gt;ol-mitlearn-app-storage]
    end

    Vault[From Vault&lt;br/&gt;Dynamic Credentials]

    Web --&gt;|Read/Write| RDS
    Web --&gt;|Cache/Queue| Redis
    Web --&gt;|Search| OpenSearch
    Web --&gt;|Vector Search| Qdrant
    Web --&gt;|Store Files| S3Legacy
    Web --&gt;|Store Files| S3New

    Celery --&gt;|Read/Write| RDS
    Celery --&gt;|Messages| Redis
    Celery --&gt;|Index| OpenSearch
    Celery --&gt;|Store Vectors| Qdrant

    Vault -.-&gt;|DB Credentials&lt;br/&gt;24hr TTL| RDS

    style RDS fill:#ff9,stroke:#333,stroke-width:2px
    style Redis fill:#ff9,stroke:#333,stroke-width:2px
    style OpenSearch fill:#ff9,stroke:#333,stroke-width:2px
    style Qdrant fill:#ff9,stroke:#333,stroke-width:2px
    style S3Legacy fill:#fc9,stroke:#333,stroke-width:2px
    style S3New fill:#fc9,stroke:#333,stroke-width:2px</code></pre>
<p><strong>Details:</strong>
- <strong>PostgreSQL:</strong> Public access enabled for Hightouch/Airbyte integrations
- <strong>Redis:</strong> Cluster mode disabled, encryption at rest and in transit
- <strong>OpenSearch:</strong> 2 shards, 2 replicas
- <strong>Qdrant:</strong> Hosted externally, uses text-embedding-3-large (3072 dimensions)
- <strong>S3:</strong> Both buckets have public read access</p>
<p><strong>Infrastructure Links:</strong>
- PostgreSQL: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L517">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:517</a>
- Valkey/Redis: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L1348">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:1348</a>
- OpenSearch: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/infrastructure/aws/opensearch/__main__.py">ol-infrastructure/.../aws/opensearch/<strong>main</strong>.py</a>
- S3 Buckets: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L145">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:145</a>
- Local: <a href="https://github.com/mitodl/mit-learn/blob/main/docker-compose.services.yml#L10">docker-compose.services.yml:10</a></p>
<hr />
<h2 id="7-external-integrations-services">7. External Integrations &amp; Services</h2>
<h3 id="7a-external-content-sources-etl">7a. External Content Sources (ETL)</h3>
<pre class="mermaid"><code>graph TB
    Celery[Celery EDX Content Queue]

    subgraph MIT["MIT Course Sources"]
        XPRO[MIT xPRO&lt;br/&gt;xpro.mit.edu/api]
        XOnline[MIT xOnline&lt;br/&gt;S3: mitx-etl-mitxonline]
        PE[MIT Professional Ed&lt;br/&gt;professional.mit.edu]
        SEE[Sloan Executive Ed&lt;br/&gt;executive.mit.edu]
        CSAIL[MIT CSAIL&lt;br/&gt;cap.csail.mit.edu]
        ProLearn[MIT ProLearn&lt;br/&gt;prolearn.mit.edu/graphql]
    end

    subgraph OpenContent["Open Content Sources"]
        OCW[MIT OCW&lt;br/&gt;ocw.mit.edu&lt;br/&gt;S3: ocw-content-storage]
        EDX[edX Platform&lt;br/&gt;api.edx.org]
        OLL[OpenLearningLibrary&lt;br/&gt;S3: ol-data-lake]
        MicroMasters[MicroMasters&lt;br/&gt;micromasters.mit.edu/api]
        YouTube[YouTube API&lt;br/&gt;Video Content]
    end

    Celery --&gt;|Fetch Courses| XPRO
    Celery --&gt;|Fetch Courses| XOnline
    Celery --&gt;|Fetch Courses| PE
    Celery --&gt;|Fetch Courses| SEE
    Celery --&gt;|Fetch Courses| CSAIL
    Celery --&gt;|Fetch Courses| ProLearn
    Celery --&gt;|Fetch Courses| OCW
    Celery --&gt;|Fetch Courses| EDX
    Celery --&gt;|Fetch Courses| OLL
    Celery --&gt;|Fetch Courses| MicroMasters
    Celery --&gt;|Fetch Videos| YouTube

    style XPRO fill:#fcf,stroke:#333,stroke-width:2px
    style XOnline fill:#fcf,stroke:#333,stroke-width:2px
    style OCW fill:#fcf,stroke:#333,stroke-width:2px
    style EDX fill:#fcf,stroke:#333,stroke-width:2px</code></pre>
<p><strong>ETL Schedule:</strong>
- Most sources: Daily or hourly
- YouTube: Every 14400s (4 hours) for videos, 21600s (6 hours) for transcripts
- Embeddings: Every 120 minutes</p>
<h3 id="7b-supporting-external-services">7b. Supporting External Services</h3>
<pre class="mermaid"><code>graph TB
    Web[Django Web App]
    Celery[Celery Workers]

    subgraph Support["Supporting Services"]
        Tika[Apache Tika 2.5.0&lt;br/&gt;Text Extraction&lt;br/&gt;Port 9998]
        Mailgun[Mailgun&lt;br/&gt;Email Delivery&lt;br/&gt;mitopen-support@mit.edu]
        Sentry[Sentry&lt;br/&gt;Error Tracking&lt;br/&gt;25% Sample Rate]
        PostHog[PostHog&lt;br/&gt;Analytics&lt;br/&gt;Project: 63497]
        OpenAI[OpenAI API&lt;br/&gt;GPT-4o OCR&lt;br/&gt;text-embedding-3-large]
        LiteLLM[LiteLLM&lt;br/&gt;Token Encoding&lt;br/&gt;cl100k_base]
        VectorProxy[Vector Log Proxy&lt;br/&gt;Log Aggregation]
    end

    Web --&gt;|Extract Text| Tika
    Web --&gt;|Send Emails| Mailgun
    Web --&gt;|Log Errors| Sentry
    Web --&gt;|Track Events| PostHog
    Web --&gt;|Send Logs| VectorProxy

    Celery --&gt;|Extract Text| Tika
    Celery --&gt;|Generate Embeddings| OpenAI
    Celery --&gt;|Encode Tokens| LiteLLM

    style Tika fill:#fcf,stroke:#333,stroke-width:2px
    style Mailgun fill:#fcf,stroke:#333,stroke-width:2px
    style Sentry fill:#fcf,stroke:#333,stroke-width:2px
    style PostHog fill:#fcf,stroke:#333,stroke-width:2px
    style OpenAI fill:#fcf,stroke:#333,stroke-width:2px</code></pre>
<p><strong>Local Service:</strong>
- Tika: <a href="https://github.com/mitodl/mit-learn/blob/main/docker-compose.services.yml#L67">docker-compose.services.yml:67</a></p>
<hr />
<h2 id="8-cicd-pipeline-concourse">8. CI/CD Pipeline (Concourse)</h2>
<h3 id="8a-backend-pipeline-mit-learn">8a. Backend Pipeline: mit-learn</h3>
<pre class="mermaid"><code>graph TB
    subgraph Source["Source Repository"]
        MainBranch[main branch&lt;br/&gt;GitHub: mitodl/mit-learn]
        RCBranch[release-candidate&lt;br/&gt;branch]
        ReleaseBranch[release branch&lt;br/&gt;Tags: v0.x.x]
    end

    subgraph Build["Concourse Build Jobs"]
        MainBuild[Build Main&lt;br/&gt;Tag: latest + git-ref]
        RCBuild[Build RC&lt;br/&gt;Tag: version from settings.py]
    end

    subgraph Registry["Container Registries"]
        DockerHub[Docker Hub&lt;br/&gt;mitodl/mit-learn-app]
        ECR[AWS ECR&lt;br/&gt;mitodl/mit-learn-app]
    end

    subgraph Deploy["Pulumi Deployments"]
        CI[Deploy CI&lt;br/&gt;Stack: mit_learn.CI]
        QA[Deploy QA&lt;br/&gt;Stack: mit_learn.QA]
        Prod[Deploy Production&lt;br/&gt;Stack: mit_learn.Production]
    end

    MainBranch --&gt;|Trigger| MainBuild
    RCBranch --&gt;|Trigger| RCBuild

    MainBuild --&gt;|Push| DockerHub
    MainBuild --&gt;|Push| ECR
    RCBuild --&gt;|Push| DockerHub
    RCBuild --&gt;|Push| ECR

    MainBuild --&gt;|Deploy| CI
    RCBuild --&gt;|Deploy| QA
    ReleaseBranch --&gt;|Promote RC Image| Prod

    style MainBuild fill:#fcc,stroke:#333,stroke-width:2px
    style RCBuild fill:#fcc,stroke:#333,stroke-width:2px
    style CI fill:#fcc,stroke:#333,stroke-width:2px
    style QA fill:#fcc,stroke:#333,stroke-width:2px
    style Prod fill:#fcc,stroke:#333,stroke-width:2px</code></pre>
<p><strong>Pipeline Details:</strong>
- <strong>Dockerfile:</strong> <code>./Dockerfile</code> (root of repository)
- <strong>Version Extraction:</strong> <code>grep VERSION main/settings.py</code>
- <strong>Environment Variables:</strong> <code>MIT_LEARN_DOCKER_TAG</code> injected into Pulumi</p>
<h3 id="8b-frontend-pipeline-mit-learn-nextjs">8b. Frontend Pipeline: mit-learn-nextjs</h3>
<pre class="mermaid"><code>graph TB
    subgraph Source["Source Repository"]
        MainBranch[main branch&lt;br/&gt;Same repo: mitodl/mit-learn]
        RCBranch[release-candidate&lt;br/&gt;branch]
        ReleaseBranch[release branch&lt;br/&gt;Tags: v0.x.x]
    end

    subgraph Build["Concourse Build Jobs"]
        MainBuild[Build Main&lt;br/&gt;Target: build_skip_yarn&lt;br/&gt;Tag: latest + git-ref]
        RCBuild[Build RC&lt;br/&gt;Target: build_skip_yarn&lt;br/&gt;Tag: version]
    end

    subgraph Registry["Container Registries"]
        DockerHub[Docker Hub&lt;br/&gt;mitodl/mit-learn-nextjs-app]
        ECR[AWS ECR&lt;br/&gt;mitodl/mit-learn-nextjs-app]
    end

    subgraph Deploy["Pulumi Deployments + CDN"]
        CI[Deploy CI&lt;br/&gt;+ Purge Fastly CI]
        QA[Deploy QA&lt;br/&gt;+ Purge Fastly QA]
        Prod[Deploy Production&lt;br/&gt;+ Purge Fastly Prod]
    end

    MainBranch --&gt;|Trigger| MainBuild
    RCBranch --&gt;|Trigger| RCBuild

    MainBuild --&gt;|Push| DockerHub
    MainBuild --&gt;|Push| ECR
    RCBuild --&gt;|Push| DockerHub
    RCBuild --&gt;|Push| ECR

    MainBuild --&gt;|Deploy| CI
    RCBuild --&gt;|Deploy| QA
    ReleaseBranch --&gt;|Promote RC Image| Prod

    style MainBuild fill:#fcc,stroke:#333,stroke-width:2px
    style RCBuild fill:#fcc,stroke:#333,stroke-width:2px
    style CI fill:#fcc,stroke:#333,stroke-width:2px
    style QA fill:#fcc,stroke:#333,stroke-width:2px
    style Prod fill:#fcc,stroke:#333,stroke-width:2px</code></pre>
<p><strong>Pipeline Details:</strong>
- <strong>Dockerfile:</strong> <code>frontends/main/Dockerfile.web</code>
- <strong>Build Target:</strong> <code>build_skip_yarn</code>
- <strong>Post-Deploy:</strong> Fastly cache purge for immediate effect
- <strong>Environment Variables:</strong> <code>MIT_LEARN_NEXTJS_DOCKER_TAG</code> injected into Pulumi</p>
<p><strong>Infrastructure Links:</strong>
- Pipeline Definition: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_concourse/pipelines/infrastructure/k8s_apps/docker_pulumi.py">ol-infrastructure/.../k8s_apps/docker_pulumi.py</a>
- Meta Pipeline: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_concourse/pipelines/infrastructure/k8s_apps/meta.py#L118">ol-infrastructure/.../k8s_apps/meta.py:118</a></p>
<hr />
<h2 id="9-infrastructure-management">9. Infrastructure Management</h2>
<pre class="mermaid"><code>graph TB
    subgraph Apps["Application Services"]
        Django[Django Web&lt;br/&gt;+ Celery Workers]
        NextJS[Next.js Frontend]
    end

    subgraph Infra["Infrastructure Management"]
        Vault[HashiCorp Vault&lt;br/&gt;Secrets Management&lt;br/&gt;Dynamic DB Creds]
        Consul[Consul&lt;br/&gt;Service Discovery&lt;br/&gt;Config Storage]
        EKS[AWS EKS&lt;br/&gt;Kubernetes Cluster&lt;br/&gt;Namespace: mitlearn]
    end

    subgraph Data["Data Layer"]
        RDS[(PostgreSQL)]
        Redis[(Valkey)]
    end

    Django --&gt;|Authenticate| Vault
    NextJS --&gt;|Authenticate| Vault
    Vault --&gt;|Dynamic Creds&lt;br/&gt;24hr TTL| RDS
    Vault --&gt;|Secrets| Django
    Vault --&gt;|Secrets| NextJS

    Django --&gt;|Register Service| Consul
    Consul --&gt;|Config| Django
    Consul -.-&gt;|Share Config| XPRO[xPRO Platform]
    Consul -.-&gt;|Share Config| XOnline[xOnline Platform]

    EKS --&gt;|Host| Django
    EKS --&gt;|Host| NextJS
    EKS --&gt;|Autoscale| Django
    EKS --&gt;|Blue/Green| NextJS

    style Vault fill:#cff,stroke:#333,stroke-width:2px
    style Consul fill:#cff,stroke:#333,stroke-width:2px
    style EKS fill:#cff,stroke:#333,stroke-width:2px</code></pre>
<p><strong>Details:</strong>
- <strong>Vault:</strong>
  - KV-v2 Mount: <code>secret-mitlearn</code>
  - AWS Backend: <code>aws-mitx</code>
  - Kubernetes Service Account Authentication
  - Database Roles: <code>app</code> (full access), <code>reverse-etl</code> (external schema)</p>
<ul>
<li><strong>Consul:</strong></li>
<li>Stores: <code>learn-api-domain</code>, <code>learn-frontend-domain</code></li>
<li>
<p>Integrates with: MIT xPRO, MIT xOnline, MIT edX platforms</p>
</li>
<li>
<p><strong>EKS:</strong></p>
</li>
<li>Namespace: <code>mitlearn</code></li>
<li>Pod Security Groups enabled</li>
<li>HPA for web and celery workers</li>
</ul>
<p><strong>Infrastructure Links:</strong>
- Vault: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L392">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:392</a>
- Vault Policy: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/mitlearn_policy.hcl">ol-infrastructure/.../mit_learn/mitlearn_policy.hcl</a>
- Consul: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L1224">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:1224</a>
- EKS: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py#L95">ol-infrastructure/.../mit_learn/<strong>main</strong>.py:95</a>
- K8s Secrets: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/k8s_secrets.py">ol-infrastructure/.../mit_learn/k8s_secrets.py</a></p>
<hr />
<h2 id="environment-specific-deployments">Environment-Specific Deployments</h2>
<p>The infrastructure supports three environments:
- <strong>CI:</strong> Development/testing (deployed from <code>main</code> branch)
- <strong>QA/RC:</strong> Staging for pre-production testing (deployed from <code>release-candidate</code> branch)
- <strong>Production:</strong> Live environment (deployed from <code>release</code> branch with version tags)</p>
<p>Each environment has separate:
- Kubernetes deployments
- Database instances (RDS)
- Redis clusters (ElastiCache)
- OpenSearch domains
- S3 buckets (suffixed: <code>-ci</code>, <code>-rc</code>, <code>-production</code>)
- DNS records (production: <code>learn.mit.edu</code>, staging: <code>open.odl.local</code>)
- Fastly CDN configurations</p>
<hr />
<h2 id="key-infrastructure-links">Key Infrastructure Links</h2>
<h3 id="primary-infrastructure-definitions">Primary Infrastructure Definitions</h3>
<ul>
<li><strong>MIT Learn Backend (Pulumi)</strong>: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/__main__.py">ol-infrastructure/src/ol_infrastructure/applications/mit_learn/<strong>main</strong>.py</a></li>
<li><strong>MIT Learn Next.js (Pulumi)</strong>: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn_nextjs/__main__.py">ol-infrastructure/src/ol_infrastructure/applications/mit_learn_nextjs/<strong>main</strong>.py</a></li>
<li><strong>OpenSearch Cluster (Pulumi)</strong>: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/infrastructure/aws/opensearch/__main__.py">ol-infrastructure/src/ol_infrastructure/infrastructure/aws/opensearch/<strong>main</strong>.py</a></li>
<li><strong>Kubernetes Secrets</strong>: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_infrastructure/applications/mit_learn/k8s_secrets.py">ol-infrastructure/src/ol_infrastructure/applications/mit_learn/k8s_secrets.py</a></li>
<li><strong>Backend Concourse Pipeline</strong>: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_concourse/pipelines/infrastructure/k8s_apps/docker_pulumi.py">ol-infrastructure/src/ol_concourse/pipelines/infrastructure/k8s_apps/docker_pulumi.py</a></li>
<li><strong>Pipeline Meta-Configuration</strong>: <a href="https://github.com/mitodl/ol-infrastructure/blob/main/src/ol_concourse/pipelines/infrastructure/k8s_apps/meta.py">ol-infrastructure/src/ol_concourse/pipelines/infrastructure/k8s_apps/meta.py</a></li>
</ul>
<h3 id="local-development">Local Development</h3>
<ul>
<li><strong>Main Compose</strong>: <a href="https://github.com/mitodl/mit-learn/blob/main/docker-compose.yml">docker-compose.yml</a></li>
<li><strong>Services</strong>: <a href="https://github.com/mitodl/mit-learn/blob/main/docker-compose.services.yml">docker-compose.services.yml</a></li>
<li><strong>Applications</strong>: <a href="https://github.com/mitodl/mit-learn/blob/main/docker-compose.apps.yml">docker-compose.apps.yml</a></li>
<li><strong>OpenSearch</strong>: <a href="https://github.com/mitodl/mit-learn/blob/main/docker-compose.opensearch.single-node.yml">docker-compose.opensearch.single-node.yml</a></li>
</ul>
<hr />
<h2 id="traffic-flow-summary">Traffic Flow Summary</h2>
<ol>
<li><strong>User Request</strong>  Fastly CDN (TLS termination, caching, compression)</li>
<li><strong>Fastly</strong>  Routes to:</li>
<li>Next.js Frontend (static/dynamic pages)</li>
<li>APISIX API Gateway (API requests)</li>
<li><strong>APISIX</strong>  Authenticates via Keycloak (OIDC/OAuth2)</li>
<li><strong>APISIX</strong>  Proxies to Nginx  Django</li>
<li><strong>Django</strong>  Uses:</li>
<li>PostgreSQL (relational data)</li>
<li>Redis (caching + Celery message broker)</li>
<li>OpenSearch (full-text search)</li>
<li>Qdrant (vector similarity search)</li>
<li>S3 (file storage)</li>
<li><strong>Celery Workers</strong>  Background processing:</li>
<li><strong>Default Queue:</strong> General tasks (emails, cleanup)</li>
<li><strong>EDX Content Queue:</strong> ETL from external sources</li>
<li><strong>Embeddings Queue:</strong> AI vector generation</li>
</ol>
<hr />
<h2 id="monitoring-observability">Monitoring &amp; Observability</h2>
<ul>
<li><strong>Logs:</strong> Vector Log Proxy aggregates from Fastly, APISIX, Nginx, Django</li>
<li><strong>Errors:</strong> Sentry (25% trace/profile sampling)</li>
<li><strong>Analytics:</strong> PostHog (user behavior tracking)</li>
<li><strong>Metrics:</strong> CloudWatch (AWS), Kubernetes metrics (KEDA)</li>
<li><strong>Health Checks:</strong></li>
<li><code>/health/startup/</code>: Database migrations, cache, Redis, DB connection</li>
<li><code>/health/liveness/</code>: DB heartbeat</li>
<li><code>/health/readiness/</code>: Cache, Redis, DB ready</li>
<li><code>/health/full/</code>: All checks + Celery ping</li>
</ul>
<hr />
<h2 id="security-secrets">Security &amp; Secrets</h2>
<p><strong>Vault Secrets Management:</strong>
- Database credentials (dynamic, 24hr TTL)
- API keys (OpenAI, YouTube, edX, Mailgun, etc.)
- OAuth client secrets
- TLS certificates</p>
<p><strong>Security Groups:</strong>
- Application pods: K8s pod subnets ingress
- Database: App pods + Vault + Hightouch/Airbyte
- Redis: App pods + KEDA autoscaler</p>
<p><strong>Authentication:</strong>
- Keycloak SSO (realm: <code>olapps</code>)
- OIDC/OAuth2 via APISIX
- JWT token-based API access</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>